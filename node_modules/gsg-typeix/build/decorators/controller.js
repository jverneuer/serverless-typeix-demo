"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const core_1 = require("../core");
const metadata_1 = require("../injector/metadata");
/**
 * Controller
 * @decorator
 * @function
 * @name Controller
 *
 * @param {IControllerMetadata} config
 * @returns {function(any): any}
 *
 * @description
 * Define controller of application
 */
exports.Controller = (config) => (Class) => {
    if (!core_1.isArray(config.providers)) {
        config.providers = [];
    }
    config.providers = config.providers.map(ProviderClass => metadata_1.Metadata.verifyProvider(ProviderClass));
    if (!core_1.isClass(Class)) {
        throw new TypeError(`@Controller is allowed only on class`);
    }
    metadata_1.Metadata.setComponentConfig(Class, config);
    return Class;
};
//# sourceMappingURL=controller.js.map